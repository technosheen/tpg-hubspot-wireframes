<section class="py-24 px-8 bg-gray-50 relative overflow-hidden">
  <!-- Background effects -->
  <div class="absolute inset-0 opacity-10">
    <div class="absolute w-full h-full bg-[radial-gradient(circle_at_center,#ffffff08_1px,transparent_1px)] bg-[size:30px_30px]"></div>
    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/30 to-transparent animate-scan-move"></div>
  </div>

  <div class="max-w-6xl mx-auto relative">
    <div class="space-y-16">
      <!-- Enhanced Header -->
      <div class="text-center space-y-6">
        <h2 class="text-4xl font-medium text-gray-900">{{ module.headline }}</h2>
        <div class="flex items-center justify-center gap-2">
          <div class="flex">
            {% for i in range(5) %}
            <svg class="w-5 h-5 text-primary fill-primary star-pop" style="animation-delay: {{ 0.8 + (i * 0.1) }}s" viewBox="0 0 24 24">
              <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
            </svg>
            {% endfor %}
          </div>
          <span class="text-gray-600 ml-2 text-sm">5.0 from industry leaders</span>
        </div>
      </div>

      <!-- Live metrics -->
      <div class="flex justify-center mb-8">
        <div class="bg-white/50 backdrop-blur-sm border border-gray-200 rounded-lg p-4 flex items-center gap-6 flex-wrap">
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4 text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
            <span class="text-sm font-mono text-gray-900 font-medium">3 Fortune 500</span>
          </div>
          <div class="w-px h-4 bg-gray-200"></div>
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4 text-green-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
              <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
            </svg>
            <span class="text-sm font-mono text-gray-900 font-medium">$12B+ Portfolio</span>
          </div>
          <div class="w-px h-4 bg-gray-200"></div>
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4 text-blue-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
              <polyline points="17 6 23 6 23 12"></polyline>
            </svg>
            <span class="text-sm font-mono text-gray-900 font-medium">312% Avg ROI</span>
          </div>
        </div>
      </div>

      <!-- Enhanced Testimonials Horizontal Scroll -->
      <div class="flex gap-8 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-thin">
        <!-- Testimonial 1 -->
        <div class="testimonial-card relative flex-shrink-0 w-[calc(100vw-6rem)] sm:w-[calc(100vw-8rem)] md:w-[360px] snap-center cursor-pointer group transition-all duration-500 opacity-40 scale-90" data-testimonial="0">
          <div class="relative bg-white border border-gray-200 rounded-xl p-8 space-y-6 transition-all duration-500 overflow-hidden">
            <!-- Animated background gradient -->
            <div class="absolute inset-0 bg-gradient-to-br from-transparent to-primary/5 opacity-0 transition-opacity duration-500 rounded-xl group-hover:opacity-100"></div>

            <!-- Quote icon with enhanced styling -->
            <div class="flex items-center gap-3 relative z-10">
              <div class="w-12 h-12 rounded-lg flex items-center justify-center transition-all duration-500 bg-gray-100 group-[.active]:bg-green-500/10">
                <svg class="w-6 h-6 transition-colors duration-500 text-gray-400 group-[.active]:text-green-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                  <polyline points="17 6 23 6 23 12"></polyline>
                </svg>
              </div>
              <svg class="w-6 h-6 transition-colors duration-500 text-primary/30 group-[.active]:text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"></path>
                <path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"></path>
              </svg>
            </div>

            <!-- Enhanced quote text -->
            <blockquote class="text-lg leading-relaxed font-medium transition-colors duration-300 text-gray-700 group-[.active]:text-gray-900 relative z-10">
              "TPG gave us complete visibility and a 3.5x ROI in less than a year."
            </blockquote>

            <!-- Author info with rating -->
            <div class="space-y-3 relative z-10">
              <div class="flex">
                {% for i in range(5) %}
                <svg class="w-4 h-4 text-primary fill-primary" viewBox="0 0 24 24">
                  <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                </svg>
                {% endfor %}
              </div>
              <div class="text-sm text-gray-600">
                <div class="font-medium">CMO</div>
                <div class="flex items-center gap-2">
                  <svg class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                    <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                  </svg>
                  Island
                </div>
              </div>
            </div>

            <!-- Hover scanning line -->
            <div class="scan-effect absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-primary to-transparent opacity-0 group-[.active]:opacity-100"></div>
          </div>
        </div>

        <!-- Testimonial 2 -->
        <div class="testimonial-card relative flex-shrink-0 w-[calc(100vw-6rem)] sm:w-[calc(100vw-8rem)] md:w-[360px] snap-center cursor-pointer group transition-all duration-500 opacity-40 scale-90" data-testimonial="1">
          <div class="relative bg-white border border-gray-200 rounded-xl p-8 space-y-6 transition-all duration-500 overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-br from-transparent to-primary/5 opacity-0 transition-opacity duration-500 rounded-xl group-hover:opacity-100"></div>

            <div class="flex items-center gap-3 relative z-10">
              <div class="w-12 h-12 rounded-lg flex items-center justify-center transition-all duration-500 bg-gray-100 group-[.active]:bg-blue-500/10">
                <svg class="w-6 h-6 transition-colors duration-500 text-gray-400 group-[.active]:text-blue-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
              </div>
              <svg class="w-6 h-6 transition-colors duration-500 text-primary/30 group-[.active]:text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"></path>
                <path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"></path>
              </svg>
            </div>

            <blockquote class="text-lg leading-relaxed font-medium transition-colors duration-300 text-gray-700 group-[.active]:text-gray-900 relative z-10">
              "Every lead now has an owner and next step. No more black holes."
            </blockquote>

            <div class="space-y-3 relative z-10">
              <div class="flex">
                {% for i in range(5) %}
                <svg class="w-4 h-4 text-primary fill-primary" viewBox="0 0 24 24">
                  <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                </svg>
                {% endfor %}
              </div>
              <div class="text-sm text-gray-600">
                <div class="font-medium">CRO</div>
                <div class="flex items-center gap-2">
                  <svg class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                    <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                  </svg>
                  Broadcom
                </div>
              </div>
            </div>

            <div class="scan-effect absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-primary to-transparent opacity-0 group-[.active]:opacity-100"></div>
          </div>
        </div>

        <!-- Testimonial 3 -->
        <div class="testimonial-card relative flex-shrink-0 w-[calc(100vw-6rem)] sm:w-[calc(100vw-8rem)] md:w-[360px] snap-center cursor-pointer group transition-all duration-500 opacity-40 scale-90" data-testimonial="2">
          <div class="relative bg-white border border-gray-200 rounded-xl p-8 space-y-6 transition-all duration-500 overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-br from-transparent to-primary/5 opacity-0 transition-opacity duration-500 rounded-xl group-hover:opacity-100"></div>

            <div class="flex items-center gap-3 relative z-10">
              <div class="w-12 h-12 rounded-lg flex items-center justify-center transition-all duration-500 bg-gray-100 group-[.active]:bg-purple-500/10">
                <svg class="w-6 h-6 transition-colors duration-500 text-gray-400 group-[.active]:text-purple-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                </svg>
              </div>
              <svg class="w-6 h-6 transition-colors duration-500 text-primary/30 group-[.active]:text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"></path>
                <path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"></path>
              </svg>
            </div>

            <blockquote class="text-lg leading-relaxed font-medium transition-colors duration-300 text-gray-700 group-[.active]:text-gray-900 relative z-10">
              "The Bloomberg Terminal-like insights helped us identify pricing objections we never saw coming."
            </blockquote>

            <div class="space-y-3 relative z-10">
              <div class="flex">
                {% for i in range(5) %}
                <svg class="w-4 h-4 text-primary fill-primary" viewBox="0 0 24 24">
                  <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                </svg>
                {% endfor %}
              </div>
              <div class="text-sm text-gray-600">
                <div class="font-medium">VP Sales</div>
                <div class="flex items-center gap-2">
                  <svg class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                    <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                  </svg>
                  Seagate
                </div>
              </div>
            </div>

            <div class="scan-effect absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-primary to-transparent opacity-0 group-[.active]:opacity-100"></div>
          </div>
        </div>
      </div>

      <!-- Progress indicators -->
      <div class="flex justify-center gap-2">
        <button class="indicator w-2 h-2 rounded-full bg-gray-200 transition-all duration-300 hover:bg-primary/50 hover:scale-110" data-index="0"></button>
        <button class="indicator w-2 h-2 rounded-full bg-gray-200 transition-all duration-300 hover:bg-primary/50 hover:scale-110" data-index="1"></button>
        <button class="indicator w-2 h-2 rounded-full bg-gray-200 transition-all duration-300 hover:bg-primary/50 hover:scale-110" data-index="2"></button>
      </div>
    </div>
  </div>
</section>

<script>
(function() {
  let activeIndex = 0;
  const cards = document.querySelectorAll('.testimonial-card');
  const indicators = document.querySelectorAll('.indicator');

  function setActiveCard(index) {
    cards.forEach((card, i) => {
      if (i === index) {
        card.classList.add('active', 'border-primary/50', 'bg-primary/5', 'scale-105', 'opacity-100');
        card.classList.remove('opacity-40', 'scale-90', 'border-gray-200');
      } else {
        card.classList.remove('active', 'border-primary/50', 'bg-primary/5', 'scale-105', 'opacity-100');
        card.classList.add('opacity-40', 'scale-90', 'border-gray-200');
      }
    });

    indicators.forEach((indicator, i) => {
      if (i === index) {
        indicator.classList.add('bg-primary', 'w-8', 'rounded');
        indicator.classList.remove('bg-gray-200', 'w-2');
      } else {
        indicator.classList.remove('bg-primary', 'w-8', 'rounded');
        indicator.classList.add('bg-gray-200', 'w-2');
      }
    });
  }

  function cycleCards() {
    setActiveCard(activeIndex);
    activeIndex = (activeIndex + 1) % cards.length;
  }

  setActiveCard(0);
  setInterval(cycleCards, 4000);

  indicators.forEach((indicator, index) => {
    indicator.addEventListener('click', () => {
      activeIndex = index;
      setActiveCard(index);
    });
  });

  cards.forEach((card, index) => {
    card.addEventListener('mouseenter', () => {
      activeIndex = index;
      setActiveCard(index);
    });
  });
})();
</script>
